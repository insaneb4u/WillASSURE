@model WillAssure.Models.CouponAllotementModel
@{
    ViewBag.Title = "AddCouponsAllotmentPageContent";
}



@*Main Content*@
<div class="content-wrapper">
    <div class="container-fluid">

        <div class="row pt-2 pb-2">

            <div class="col-sm-3">
                <div class="btn-group float-sm-right">

                    <div class="dropdown-menu">
                        <a href="javaScript:void();" class="dropdown-item">Action</a>
                        <a href="javaScript:void();" class="dropdown-item">Another action</a>
                        <a href="javaScript:void();" class="dropdown-item">Something else here</a>
                        <div class="dropdown-divider"></div>
                        <a href="javaScript:void();" class="dropdown-item">Separated link</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb-->
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="col-12 12">
                            <div class="card bg-transparent shadow-none border border-light-3">
                                <div class="card-header text-white border-light-3" style="background: #199d4b">
                                    Instructions

                                </div>
                                <div class="card-body" style="background: #fff; border:1px solid #199d4b">
                                    <ul>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</li>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</li>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</li>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</li>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="card-title text-primary">Coupons Allotement</div>
                        <hr>

                        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "RoleForm" }))
                        {
                            <textarea id="documenttype" name="documenttype" style="display:none;"></textarea>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="input-3">Coupon Number</label>
                                        <select id="ddlCoupon" class="form-control validate[required]">
                                            <option value="">--Select Coupon Number--</option>
                                        </select>
                                        @Html.HiddenFor(m => m.Coupon_Number_id, new { id = "Coupon_Number_id" })
                                        @Html.HiddenFor(m => m.Coupon_Number_txt, new { id = "Coupon_Number_txt" })
                                    </div>
                                </div>



                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="input-3">Distributor</label>
                                        <select id="ddlDistributor" class="form-control validate[required]">
                                            <option value="">--Select Distributor--</option>
                                        </select>
                                        @Html.HiddenFor(m => m.distributor_id, new { id = "distributor_id" })
                                        @Html.HiddenFor(m => m.distributor_txt, new { id = "distributor_txt" })
                                    </div>
                                </div>




                                <div class="col-sm-6">
                                    <div class="form-group col-sm-12" style="float: left;">
                                        <label for="input-3">Select Document</label>
                                        <div class="col-sm-12" style="float: left;">
                                            <label class="checkbox-inline">
                                                <input type="checkbox" id="checkone" value="Will">Will
                                            </label>
                                            <label class="checkbox-inline">
                                                <input type="checkbox" id="checktwo" value="Codocil">Codocil
                                            </label>
                                            <label class="checkbox-inline">
                                                <input type="checkbox" id="checkthree" value="POA">POA
                                            </label>
                                            <label class="checkbox-inline">
                                                <input type="checkbox" id="checkfour" value="GiftDeeds">Gift Deeds
                                            </label>
                                            <label class="checkbox-inline">
                                                <input type="checkbox" id="checkfive" value="LivingWill">Living Will
                                            </label>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-sm-6"></div>


                                <div class="col-sm-6">


                                    <div class="form-group">
                                        <label for="input-1">From Date</label>

                                        <div id="fromdate" class="input-group date" data-date-format="dd-mm-yyyy">
                                            <input class="form-control validate[required]" type="text" id="fromdate" name="fromdate" autocomplete="off" placeholder="Select From Date" />
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                        </div>
                                    </div>


                                </div>



                                <div class="col-sm-6">


                                    <div class="form-group">
                                        <label for="input-1">To Date</label>

                                        <div id="todate" class="input-group date" data-date-format="dd-mm-yyyy">
                                            <input class="form-control validate[required]" type="text" id="todate" name="todate" autocomplete="off" placeholder="Select To Date" />
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                        </div>
                                    </div>


                                </div>



                            </div>



                            <div class="form-group">

                                <button type="submit" id="btnRoleformsubmit" formaction="InsertCouponsdata" class="btn btn-primary shadow-primary px-5"><i class="icon-lock"></i>Coupon Allotment</button>

                            </div>

                        }
                    </div>
                </div>
            </div>
            <button type="button" id="btnRoleformsubmitSUCCESS" style="display:none;" class="btnpopup btn btn-primary shadow-primary px-5"><i class="icon-lock"></i></button>
            <button type="button" id="btnRoleformsubmitCHECK" style="display:none;" class="btnpopup btn btn-primary shadow-primary px-5"><i class="icon-lock"></i></button>

        </div>


    </div>


</div>
@*end*@

<!--Start Back To Top Button-->
<a href="javaScript:void();" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
<!--End Back To Top Button-->









<script>


    $("#checkone").click(function () {

        if ($("#checkone").is(":checked")) {
            var x = $("#checkone").val();
            $("#documenttype").append(x);

        }



    });




    $("#checktwo").click(function () {



        if ($("#checktwo").is(":checked")) {
            var x = $("#checktwo").val();
            $("#documenttype").append(x);
      
        }



    });



    $("#checkthree").click(function () {

        if ($("#checkthree").is(":checked")) {
            var x = $("#checkthree").val();
            $("#documenttype").append(x);
    
        }
    });


    $("#checkfour").click(function () {

        if ($("#checkfour").is(":checked")) {
            var x = $("#checkfour").val();
            $("#documenttype").append(x);
 
        }




    });


    $("#checkfive").click(function () {

        if ($("#checkfive").is(":checked")) {
            var x = $("#checkfive").val();
            $("#documenttype").append(x);
           
        }




    });

    $(document).ready(function () {
        $("#RoleForm").validationEngine();
    });


</script>





@if (ViewBag.Message == "Duplicate")
{
    <script>

        $(document).ready(function () {


            $("#btnRoleformsubmitCHECK").on("click", function () { });

            $("#btnRoleformsubmitCHECK").click(); //trigger event after listening to it.




        });
    </script>

}


@if (ViewBag.Message == "Verified")
{
    <script>

        $(document).ready(function () {


            $("#btnRoleformsubmitSUCCESS").on("click", function () { });

            $("#btnRoleformsubmitSUCCESS").click(); //trigger event after listening to it.

            $("#txtRole").val("");


        });
    </script>

}





<script>

    $(function () {
        $("#fromdate").datepicker({
            dateFormat: "dd/MM/yyyy",
            startDate: '+0d',
            autoclose: true


        });
    });


    $(function () {
        $("#todate").datepicker({
            dateFormat: "dd/MM/yyyy",
            startDate: '+0d',
            autoclose: true


        });
    });




    		$(document).ready(function () {

        $.ajax({

            type: "POST",
            url:"@Url.Action("BindDistributorDDL", "CouponsAllotment")",
            success: function (data) {
                $('#ddlDistributor').empty().append(data);
            }
        });


    });


    $("#ddlDistributor").change(function () {
            var value = $(this).children(":selected").attr("value");
        var text = $("#ddlDistributor option:selected").html();

        $("#distributor_txt").val(text);
        $("#distributor_id").val(value);


    });







    $(document).ready(function () {

        $.ajax({

            type: "POST",
            url:"@Url.Action("BindCouponDDL", "CouponsAllotment")",
            success: function (data) {
                $('#ddlCoupon').empty().append(data);
            }
        });


    });


    $("#ddlCoupon").change(function () {
            var value = $(this).children(":selected").attr("value");
        var text = $("#ddlCoupon option:selected").html();

        $("#Coupon_Number_txt").val(text);
        $("#Coupon_Number_id").val(value);


        });






    $("#ddldocumenttype").change(function () {
        var value = $(this).children(":selected").attr("value");
        var text = $("#ddldocumenttype option:selected").html();

        $("#document_txt").val(text);
        $("#document_id").val(value);


    });


    


</script>